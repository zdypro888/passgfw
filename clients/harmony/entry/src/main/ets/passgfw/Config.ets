/**
 * URL Entry 接口 - 包含 method, URL 和 store 标志
 */
export interface URLEntry {
  method: string;  // "api", "file", "navigate", 或 "remove"
  url: string;
  store?: boolean; // 是否持久化存储（只对 api 和 file 有效，默认 false）
}

/**
 * Configuration for PassGFW
 */

export class Config {
  // BUILD_CONFIG_START - Auto-generated by build script v2.0.0, DO NOT EDIT MANUALLY
  /**
   * Get built-in URL list
   * These URLs are generated during build from build_config.json
   */
  static getBuiltinURLs(): URLEntry[] {
    return [
      { method: 'api', url: 'http://localhost:8080/passgfw' },
      { method: 'api', url: 'http://127.0.0.1:8080/passgfw' }
    ];
  }

  /**
   * Get public key (PEM format)
   * This key is embedded during build from ../server/keys/public_key.pem
   */
  static getPublicKey(): string {
    return `-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAywXbsHaPw9FWFQXVys4a
xABweET6hibzzAup+84Dacf3mUfGFYu6CBTuYni/x4r+WeiskiLQJSm1Bk80uWnn
OXcNRA7/LrxhXO91A+uwRgByO3PtkSODm9MAFhSCD+HUMdlLaeokQfK+BSLxPB9K
NzkU7HmdAVmLkqkyLxzXMg6BSK9dFoaYha/zz2ZpujCtGbk2FOSYBa+6zLFCnYer
URr4lR/9KAXM0Jjbc/6QdAoGcCSpFDMWJEFAwPPBAYot8XnqueTXYf9BRJHVPPj/
f9eGmPN6edFdnwdZev0a7KlxhgPIH2dBng9rPrG10vcbsf0w1+0JYI53jQB8vglG
rwIDAQAB
-----END PUBLIC KEY-----`;
  }

  // Timeout settings (milliseconds)
  static readonly REQUEST_TIMEOUT: number = 5000;
  static readonly RETRY_INTERVAL: number = 2000;
  static readonly URL_INTERVAL: number = 500;

  // Retry settings
  static readonly MAX_RETRIES: number = 2;
  static readonly RETRY_DELAY: number = 500;

  // Security limits
  static readonly MAX_LIST_RECURSION_DEPTH: number = 5;
  static readonly NONCE_SIZE: number = 32;
  static readonly MAX_CLIENT_DATA_SIZE: number = 200;

  // Concurrent detection settings
  static readonly ENABLE_CONCURRENT_CHECK: boolean = true;
  static readonly CONCURRENT_CHECK_COUNT: number = 3;
  static readonly FILE_METHOD_CONCURRENT: boolean = false;
  // BUILD_CONFIG_END
}

